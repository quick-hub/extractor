<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Lite 1.6 Email Extractor - Professional tool to extract and validate email addresses from text, websites, and documents">
    <title>QuickEmail Extractor | Professional Email Extraction Tool</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;700&family=JetBrains+Mono:wght@400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="logo">
                <div class="logo-icon">QE</div>
                <h1>QuickEmail Extractor</h1>
            </div>
            <p class="subtitle">Professional tool to extract, validate, and organize email addresses</p>
            <div class="status-bar">
                <div class="status-dot"></div>
                <span id="workerStatus">Cloudflare Worker Connected</span>
            </div>
        </header>

        <div id="statusMessage" class="status-message" role="status" aria-live="polite"></div>

        <!-- Main Grid -->
        <div class="main-grid">
            <!-- Input Card -->
            <div class="card">
                <div class="card-header">
                    <div class="card-title">
                        <div class="card-icon">üìù</div>
                        Input
                    </div>
                </div>

                <!-- URL Input -->
                <div class="url-section">
                    <input type="url" id="urlInput" name="urlInput" placeholder="https://example.com" aria-label="Enter website URL to extract emails from">
                    <button class="btn btn-primary" id="extractBtn" aria-label="Extract emails from URL">
                        <span>üîç</span> Extract
                    </button>
                </div>

                <!-- Text Input -->
                <div class="textarea-wrapper">
                    <textarea id="textInput" name="textInput" placeholder="Paste your text here (emails, HTML, documents, etc.)..." aria-label="Paste text content to extract emails from"></textarea>
                    <div class="textarea-counter">
                        <span id="charCount">0</span> characters
                    </div>
                </div>

                <div class="button-group">
                    <button class="btn btn-primary" id="extractTextBtn" aria-label="Extract emails from pasted text">
                        <span>üìã</span> Extract from Text
                    </button>
                    <button class="btn btn-secondary" id="deepSearchBtn" aria-label="Perform deep search to crawl multiple pages">
                        <span>üîé</span> Deep Search
                    </button>
                </div>

                <!-- Options Panel -->
                <div class="options-panel">
                    <h3 class="options-title">Deep Search Options</h3>
                    <div class="option-row">
                        <label for="followLinks">
                            <input type="checkbox" id="followLinks" name="followLinks" checked aria-label="Follow internal links during deep search">
                            Follow internal links
                        </label>
                    </div>
                    <div class="option-row">
                        <label for="maxDepth">Max Depth:</label>
                        <select id="maxDepth" name="maxDepth" aria-label="Maximum depth for deep search">
                            <option value="1">1 level</option>
                            <option value="2" selected>2 levels</option>
                            <option value="3">3 levels</option>
                        </select>
                    </div>
                    <div class="option-row">
                        <label for="maxPages">Max Pages:</label>
                        <select id="maxPages" name="maxPages" aria-label="Maximum pages to scan in deep search">
                            <option value="5">5 pages</option>
                            <option value="10" selected>10 pages</option>
                            <option value="20">20 pages</option>
                            <option value="50">50 pages</option>
                        </select>
                    </div>
                </div>

                <!-- Progress Section -->
                <div id="progressSection" class="progress-section" role="status" aria-label="Extraction progress">
                    <div class="progress-bar" role="progressbar" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0">
                        <div id="progressFill" class="progress-fill"></div>
                    </div>
                    <div id="progressDetails" class="progress-details" aria-live="polite"></div>
                </div>
            </div>

            <!-- Output Card -->
            <div class="card">
                <div class="card-header">
                    <div class="card-title">
                        <div class="card-icon">‚úâÔ∏è</div>
                        Results
                    </div>
                </div>

                <!-- Stats -->
                <div class="stats-grid">
                    <div class="stat-card">
                        <span id="totalCount" class="stat-value">0</span>
                        <span class="stat-label">Total</span>
                    </div>
                    <div class="stat-card">
                        <span id="validCount" class="stat-value">0</span>
                        <span class="stat-label">Valid</span>
                    </div>
                    <div class="stat-card">
                        <span id="invalidCount" class="stat-value">0</span>
                        <span class="stat-label">Invalid</span>
                    </div>
                </div>

                <!-- Filter Tabs -->
                <div class="filter-tabs" role="tablist" aria-label="Email filter options">
                    <button class="filter-tab active" data-filter="all" role="tab" aria-selected="true" aria-controls="emailsList">All</button>
                    <button class="filter-tab" data-filter="valid" role="tab" aria-selected="false" aria-controls="emailsList">Valid</button>
                    <button class="filter-tab" data-filter="invalid" role="tab" aria-selected="false" aria-controls="emailsList">Invalid</button>
                    <button class="filter-tab" data-filter="unchecked" role="tab" aria-selected="false" aria-controls="emailsList">Unchecked</button>
                </div>

                <!-- Output Options -->
                <div class="options-panel">
                    <h3 class="options-title">Output Options</h3>
                    <div class="option-row">
                        <label for="separator">Separator:</label>
                        <select id="separator" name="separator" aria-label="Choose separator for email list">
                            <option value="newline">New Line</option>
                            <option value="comma">Comma (,)</option>
                            <option value="semicolon">Semicolon (;)</option>
                            <option value="pipe">Pipe (|)</option>
                            <option value="space">Space</option>
                            <option value="tab">Tab</option>
                        </select>
                    </div>
                    <div class="option-row">
                        <label for="sortAlpha">
                            <input type="checkbox" id="sortAlpha" name="sortAlpha" aria-label="Sort emails alphabetically">
                            Sort Alphabetically
                        </label>
                    </div>
                    <div class="option-row">
                        <label for="removeDuplicates">
                            <input type="checkbox" id="removeDuplicates" name="removeDuplicates" checked aria-label="Remove duplicate emails">
                            Remove Duplicates
                        </label>
                    </div>
                </div>

                <!-- Output Preview -->
                <div class="output-preview-section" id="outputPreviewSection" style="display: none;">
                    <h3 class="options-title">Output Preview</h3>
                    <div class="output-preview" id="outputPreview">
                        <div class="empty-state">
                            <p>Extract emails to see preview</p>
                        </div>
                    </div>
                </div>

                <!-- Email List -->
                <div id="emailsList" class="email-list" role="region" aria-label="Extracted email addresses list" aria-live="polite">
                    <div class="empty-state">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
                        </svg>
                        <p>No emails extracted yet</p>
                    </div>
                </div>

                <!-- Action Buttons -->
                <div class="button-group action-buttons">
                    <button class="btn btn-success" id="validateBtn" aria-label="Validate all extracted email addresses">
                        <span>‚úì</span> Validate All
                    </button>
                    <button class="btn btn-primary" id="copyBtn" aria-label="Copy all valid emails to clipboard">
                        <span>üìã</span> Copy Valid
                    </button>
                    <button class="btn btn-primary" id="copyAllBtn" aria-label="Copy all emails to clipboard">
                        <span>üìÑ</span> Copy All
                    </button>
                    <button class="btn btn-secondary" id="exportBtn" aria-label="Export emails as text file">
                        <span>üíæ</span> Export
                    </button>
                    <button class="btn btn-secondary" id="clearBtn" aria-label="Clear all extracted emails">
                        <span>üóëÔ∏è</span> Clear
                    </button>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <footer class="footer">
            <p> QuickEmail Extractor | Powered by Cloudflare Workers</p>
            <p class="footer-links">
                Professional Edition
            </p>
        </footer>
    </div>

    <script src="email-extractor-client.js"></script>
</body>
</html>
